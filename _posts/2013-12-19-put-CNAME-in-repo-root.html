---
layout: blog-single
title: gh-pages&#58; Make Sure CNAME Is In Your Repository Root!
date: December 19, 2013
comments: true
noNameInTitle: true
ogImageSrc: /blog/1/og-image.jpg
ogImageType: image/jpeg
ogImageWidth: 1024
ogImageHeight: 1024
---

<p>I recently ran into an issue when deploying <a class="inline-link" href="https://github.com/mpchadwick/WhatsPopularOnYouTube" target="_blank">WhatsPopularOnYouTube.com</a>, an AngularJS app that displays a live feed of the most popular videos on YouTube.</p>
<p>The app was scaffolded with the <a class="inline-link" href="https://github.com/angular/angular-seed" target="_blank">Angular Seed Project</a>, which offers a nice starting structure for Angular apps. When using the Angular Seed Project the document root for the app is the <code>app</code> directory, which is one level above the repository root.</p>

{% highlight bash %}
app/
  css/
    app.css
  img/
  index.html ←-In app directory, one level above repository root
  index-async.html
  js/
    app.js
    controllers.js
    directives.js
    filters.js
    services.js
  lib/
    angular/
      angular.js
      angular.min.js
      angular-*.js
      version.txt
  partials/
    partial1.html
    partial2.html
config/
  karma.conf.js
  karma-e2e.conf.js
scripts/
  e2e-test.sh
  e2e-test.bat
etc…
{% endhighlight %}
<p>Since the app doesn&#39;t involve any server side coding, and a database is not needed, I wanted to use Github pages for hosting. My original plan was to push the entire repository up to Github and put the CNAME file in the <code>app</code> directory, one level above the repository root. I figured this would work since I had seen <a class="inline-link" href=https://github.com/jekyll/jekyll/tree/16217b2ed76dc76af1f54e3a6e28bb592b988363/site" target="_blank">something similar in the Jekyll repository</a>, where there is a CNAME file in the <code>site</code> directory, one level above the repository root.</p>
<p>I pushed the repository up, with the CNAME file in place, updated the A record at my registrar, and refreshed the page for about 10 minutes, only to continue getting a generic Github 404 error. I re-checked the A record at the registrar, re-checked the spelling on in my CNAME file, but everything was done properly. Finally, after Googling terms like &#39;github pages CNAME subdirectory&#39; and learning nothing, I decided to contact Github about the issue</p>
<p>Much to my surprise, I received the following response...</p>
<blockquote>Your CNAME file definitely needs to be in the root of the repository.</blockquote>
<p>So I made that change and within 10 minutes my site was up and running.</p>
<p>The point of this blog post is to help out anyone who might have a similar idea about putting the CNAME file in a directory outside of the repository root. For example, someone who has seen the Jekyll repository (which has over 13,000 stars on Github at the time of writing this), might be inclined to think that the CNAME file could be placed there.</p>
<p>Since all the searches I ran on Google provided no quick guidance on this issue, hopefully this blog post will help someone out. </p>
